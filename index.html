<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Дым и дождь</title>
    <style>
        body { margin: 0; }
        #canvasContainer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    </style>
    <script src="https://cdn.rawgit.com/VincentGarreau/particles.js/master/particles.min.js"></script>
    <script src="https://threejs.org/build/three.min.js"></script>
</head>
<body>
    <div id="canvasContainer"></div>

    <script>
        // Инициализация трехмерной сцены
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvasContainer').appendChild(renderer.domElement);

        // Создание 3D-дыма
        const smokeGeometry = new THREE.PlaneGeometry(200, 200);
        const smokeMaterial = new THREE.MeshBasicMaterial({ color: 0x888888, opacity: 0.5, transparent: true });
        const smokePlane = new THREE.Mesh(smokeGeometry, smokeMaterial);
        smokePlane.rotation.x = -Math.PI / 2;
        scene.add(smokePlane);

        // Движение камеры
        camera.position.z = 5;

        function animate() {
            requestAnimationFrame(animate);
            smokePlane.rotation.z += 0.01; // Плавное вращение дыма
            renderer.render(scene, camera);
        }

        // Настройка частиц для дождя
        particlesJS("canvasContainer", {
            particles: {
                number: { value: 100, density: { enable: true, value_area: 800 } },
                color: { value: "#ffffff" },
                shape: {
                    type: "circle",
                    stroke: { width: 0, color: "#000000" },
                    polygon: { nb_sides: 5 },
                    image: { src: "img/github.svg", width: 100, height: 100 }
                },
                opacity: { value: 0.5, random: false, anim: { enable: false, speed: 1, opacity_min: 0.1, sync: false } },
                size: { value: 5, random: true, anim: { enable: false, speed: 40, size_min: 0.1, sync: false } },
                line_linked: { enable: false }, // Отключение соединений между каплями
                move: { enable: true, speed: 5, direction: "bottom", random: false, straight: false, out_mode: "out", bounce: false, attract: { enable: false } }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: false },
                    onclick: { enable: false },
                    resize: true
                }
            },
            retina_detect: true
        });

        // Вывод сообщения в консоль
        console.log("Дождь и дым активированы!");

        animate(); // Запуск анимации
    </script>
</body>
</html>
